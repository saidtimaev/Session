{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}


{% block body %}
{# {{ dump(sessions) }} #}

    <p>Sessions en cours: </p>

    {% if sessionsEnCours|length > 0 %}
        <table class="table table-striped table-bordered">
            <thead>
                <tr class="table-primary">
                    <th>Session</th>
                    <th>Date de début</th>
                    <th>Date de fin</th>
                    <th>Nb places total</th>
                    <th>Nb places réservées</th>
                    <th>Nb places disponibles</th>
                    <th scope="col">Details du programme</th>

                </tr>
            </thead>
            <tbody>
                    {% for session in sessionsEnCours %}
                        <tr>
                            <td><a href="{{path('show_session', {'id' : session.id})}}">{{session.intitule}}</a><br></td>
                            <td>{{session.dateDebut|date("d/m/Y")}}</td>
                            <td>{{session.dateFin|date("d/m/Y")}}</td>                 
                            <td>{{session.places}}</td>                 
                            <td>{{session.stagiaires|length}}</td>                 
                            <td>{{session.places - session.stagiaires|length}}</td>   
                            <td><a href="">Afficher</a></td>

                        </tr>
                    {% endfor %}
                </tbody>
            </table>
    {% else %}
            <p>Aucune session en cours</p>
    {% endif %}

    <p>Sessions prévues: </p>

    {% if sessionsPrevues|length > 0 %}
        <table class="table table-striped table-bordered">
            <thead>
                <tr class="table-primary">
                    <th>Session</th>
                    <th>Date de début</th>
                    <th>Date de fin</th>
                    <th>Nb places total</th>
                    <th>Nb places réservées</th>
                    <th>Nb places disponibles</th>
                    <th scope="col">Details du programme</th>

                </tr>
            </thead>
            <tbody>
                    {% for session in sessionsPrevues %}
                        <tr>
                            <td><a href="{{path('show_session', {'id' : session.id})}}">{{session.intitule}}</a><br></td>
                            <td>{{session.dateDebut|date("d/m/Y")}}</td>
                            <td>{{session.dateFin|date("d/m/Y")}}</td>                 
                            <td>{{session.places}}</td>                 
                            <td>{{session.stagiaires|length}}</td>                 
                            <td>{{session.places - session.stagiaires|length}}</td>     
                            <td><a href="">Afficher</a></td>
                     
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
    {% else %}
            <p>Aucune session prévue</p>
    {% endif %}
            
            
    <p>Sessions passées: </p>

    {% if sessionsPassees|length > 0 %}
        <table class="table table-striped table-bordered">
            <thead>
                <tr class="table-primary">
                    <th>Session</th>
                    <th>Date de début</th>
                    <th>Date de fin</th>
                    <th>Nb places total</th>
                    <th>Nb places réservées</th>
                    <th>Nb places disponibles</th>
                    <th scope="col">Details du programme</th>

                </tr>
            </thead>
            <tbody>
                {% for session in sessionsPassees %}
                    <tr>
                        <td><a href="{{path('show_session', {'id' : session.id})}}">{{session.intitule}}</a><br></td>
                            <td>{{session.dateDebut|date("d/m/Y")}}</td>
                            <td>{{session.dateFin|date("d/m/Y")}}</td>                 
                            <td>{{session.places}}</td>                 
                            <td>{{session.stagiaires|length}}</td>                 
                            <td>{{session.places - session.stagiaires|length}}</td>       
                            <td><a href="">Afficher</a></td>
         
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
            <p>Aucune session passée</p>
    {% endif %}
{% endblock %}

